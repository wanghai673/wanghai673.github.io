<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Verl æ¡†æ¶ä¸‹ GRPO è°ƒå‚ï¼šGSM8K å®éªŒè®°å½•ï¼ˆQwen3-0.6Bï¼‰ | Wanghai673 | åšå®¢</title><meta name=keywords content="è®°å½•"><meta name=description content="èƒŒæ™¯
åˆå§‹Qwen3-0.6Båœ¨GSM8Kçš„å‡†ç¡®ç‡ä¸åˆ°20%ï¼Œé—®é¢˜ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š

æœªèƒ½æŒ‰ç…§promptçš„ç­”æ¡ˆæ ¼å¼ è¾“å‡º ç­”æ¡ˆ
æœªèƒ½è®¡ç®—å‡ºæ­£ç¡®ç­”æ¡ˆ

ç»æµ‹è¯•ä¸»è¦å‘ç°å‡†ç¡®ç‡ä½çš„åŸå› æ˜¯ä¸»è¦æ˜¯å‰è€…å¯¼è‡´ï¼Œå°‘éƒ¨åˆ†æ˜¯åè€…ã€‚æœ¬è´¨ä¸Šå°±æ˜¯å°æ¨¡å‹çš„æŒ‡ä»¤è·Ÿéšå’Œæ¨ç†èƒ½åŠ›çš„ä¸è¶³ã€‚
å¦‚ä»ŠLLMå·²ç»æœ‰å¤§é‡ä¸åŒçš„å¾®è°ƒæ–¹å¼ï¼Œå¦‚å¼ºåŒ–å­¦ä¹ å¾®è°ƒã€SFTç­‰æ–¹å‘ï¼Œæœ¬å®éªŒä¸ºæ¢ç´¢GRPOåœ¨LLMå¾®è°ƒçš„æ•ˆæœä¸Šé™ä¸ä¼˜åŠ¿ã€‚
ç›®æ ‡

é€šè¿‡ GRPO å¾®è°ƒ Qwen3-0.6Bï¼Œå¯»æ‰¾åœ¨ éªŒè¯é›†ä¸Šçš„æœ€ä¼˜è¶…å‚æ•°ç»„åˆã€‚
ä½¿ç”¨ Qwen32B ç”Ÿæˆç­”æ¡ˆè¿›è¡Œè’¸é¦ + LoRA å¾®è°ƒ Qwen3-0.6Bï¼Œå¹¶ä¸ GRPO æ–¹æ¡ˆå¯¹æ¯”ã€‚

æ–¹æ³•æ¦‚è§ˆ

æ¡†æ¶ï¼šVerl
åŸºåº§æ¨¡å‹ï¼šQwen3-0.6B
ä¼˜åŒ–ï¼šGRPO
å¯¹æ¯”ï¼šQwen32B è’¸é¦ â†’ LoRA on Qwen3-0.6B

è°ƒèŠ‚çš„è¶…å‚æ•°

  
      
          è¶…å‚æ•°
          é‡è¦åº¦
          æ¨èèŒƒå›´ / è®¾å®š
          å½“å‰å€¼
          å½±å“ / è¯´æ˜
      
  
  
      
          å­¦ä¹ ç‡ (LoRA, actor.optim.lr)
          â­â­â­â­â­
          1e-5 ï½ 5e-5
          5e-5
          ç›´æ¥å½±å“æ”¶æ•›ä¸æœ€ç»ˆæ€§èƒ½ï¼Œå»ºè®®ä»å°åˆ°å¤§ç½‘æ ¼/äºŒåˆ†æœã€‚
      
      
          å“åº”æ•°é‡ (rollout.n)
          â­â­â­â­
          5 ï½ 16
          5 / 16
          æ›´å¤šæ ·æœ¬å¯æå‡ GRPO ä¿¡å·è´¨é‡ï¼Œä½†æ˜¾è‘—å¢ç®—åŠ›ã€‚
      
      
          KL ç³»æ•° (kl_loss_coef)
          â­â­â­â­
          1e-4 ï½ 1e-2
          1e-3
          çº¦æŸä¸å‚è€ƒæ¨¡å‹åç¦»åº¦ï¼›è¿‡å¤§æŠ‘åˆ¶æ¢ç´¢ã€è¿‡å°æ˜“æ¼‚ç§»ã€‚
      
      
          æ‰¹æ¬¡å¤§å°
          â­â­â­â­
          train 64/128/256/512ï¼›mini 32/64/128ï¼›micro 4/8/16
          128 / 64 / 16
          æ›´å¤§æ‰¹æ¬¡æ›´ç¨³ï¼ˆå—æ˜¾å­˜é™åˆ¶ï¼‰ã€‚
      
      
          é‡‡æ ·æ¸©åº¦ (temperature)
          â­â­
          0.7 / 1.0 / 1.2
          1.0
          å¤šæ ·æ€§ä¸æ¢ç´¢ï¼›é«˜æ¸©åº¦åˆ©æ¢ç´¢ä½†æ˜“å™ªå£°ã€‚
      
      
          Top-p (top_p)
          â­â­
          0.7 / 0.9 / 1.0
          1.0
          æ§åˆ¶å°¾éƒ¨æˆªæ–­ï¼›ä¸æ¸©åº¦é…åˆè°ƒåº¦æ¢ç´¢å¼ºåº¦ã€‚
      
  

å®éªŒè®¡åˆ’

è°ƒæ•´verlæ¡†æ¶çš„GRPOçš„è¶…å‚æ•°ï¼Œå¾®è°ƒQwen3-0.6Bï¼Œæ¢ç´¢æœ€å¤§éªŒè¯é›†è¡¨ç°çš„è¶…å‚æ•°ã€‚
ä½¿ç”¨Qwen32Bæ¨¡å‹ï¼Œè’¸é¦ç­”æ¡ˆï¼ŒLoraå¾®è°ƒQwen3-0.6Bï¼Œå¹¶ä¸ä¸Šé¢æ–¹å¼å¯¹æ¯”ã€‚

å®éªŒè¿‡ç¨‹
åˆå§‹å®éªŒ
é¦–å…ˆåœ¨ä½¿ç”¨LLMç”Ÿäº§äº†ä¸€ç»„åˆå§‹å‚æ•°ï¼Œå¹¶è·‘é€šã€‚"><meta name=author content="Wanghai673"><link rel=canonical href=http://localhost:1313/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.e0ba3545db7c40d4a40a6600ba4c0ca0c92ea8e60a1c1f89a93f15fb7438773c.css integrity="sha256-4Lo1Rdt8QNSkCmYAukwMoMkuqOYKHB+JqT8V+3Q4dzw=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/images/dog.svg><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/images/dog.svg><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/images/dog.svg><link rel=apple-touch-icon href=http://localhost:1313/images/dog.svg><link rel=mask-icon href=http://localhost:1313/images/dog.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css integrity=sha384-wcIxkf4k558AjM3Yz3BBFQUbk/zgIYC2R0QpeeYb+TwlBVMrlgLqwRjRtGZiK7ww crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js integrity=sha384-hIoBPJpTUs74ddyc4bFZSM1TVlQDA60VBbJS0oA934VSz82sBx1X7kSx2ATBDIyd crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js integrity=sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk crossorigin=anonymous onload='window.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})'></script><meta property="og:url" content="http://localhost:1313/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/"><meta property="og:site_name" content="Wanghai673 | åšå®¢"><meta property="og:title" content="Verl æ¡†æ¶ä¸‹ GRPO è°ƒå‚ï¼šGSM8K å®éªŒè®°å½•ï¼ˆQwen3-0.6Bï¼‰"><meta property="og:description" content="èƒŒæ™¯ åˆå§‹Qwen3-0.6Båœ¨GSM8Kçš„å‡†ç¡®ç‡ä¸åˆ°20%ï¼Œé—®é¢˜ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š
æœªèƒ½æŒ‰ç…§promptçš„ç­”æ¡ˆæ ¼å¼ è¾“å‡º ç­”æ¡ˆ æœªèƒ½è®¡ç®—å‡ºæ­£ç¡®ç­”æ¡ˆ ç»æµ‹è¯•ä¸»è¦å‘ç°å‡†ç¡®ç‡ä½çš„åŸå› æ˜¯ä¸»è¦æ˜¯å‰è€…å¯¼è‡´ï¼Œå°‘éƒ¨åˆ†æ˜¯åè€…ã€‚æœ¬è´¨ä¸Šå°±æ˜¯å°æ¨¡å‹çš„æŒ‡ä»¤è·Ÿéšå’Œæ¨ç†èƒ½åŠ›çš„ä¸è¶³ã€‚
å¦‚ä»ŠLLMå·²ç»æœ‰å¤§é‡ä¸åŒçš„å¾®è°ƒæ–¹å¼ï¼Œå¦‚å¼ºåŒ–å­¦ä¹ å¾®è°ƒã€SFTç­‰æ–¹å‘ï¼Œæœ¬å®éªŒä¸ºæ¢ç´¢GRPOåœ¨LLMå¾®è°ƒçš„æ•ˆæœä¸Šé™ä¸ä¼˜åŠ¿ã€‚
ç›®æ ‡ é€šè¿‡ GRPO å¾®è°ƒ Qwen3-0.6Bï¼Œå¯»æ‰¾åœ¨ éªŒè¯é›†ä¸Šçš„æœ€ä¼˜è¶…å‚æ•°ç»„åˆã€‚ ä½¿ç”¨ Qwen32B ç”Ÿæˆç­”æ¡ˆè¿›è¡Œè’¸é¦ + LoRA å¾®è°ƒ Qwen3-0.6Bï¼Œå¹¶ä¸ GRPO æ–¹æ¡ˆå¯¹æ¯”ã€‚ æ–¹æ³•æ¦‚è§ˆ æ¡†æ¶ï¼šVerl åŸºåº§æ¨¡å‹ï¼šQwen3-0.6B ä¼˜åŒ–ï¼šGRPO å¯¹æ¯”ï¼šQwen32B è’¸é¦ â†’ LoRA on Qwen3-0.6B è°ƒèŠ‚çš„è¶…å‚æ•° è¶…å‚æ•° é‡è¦åº¦ æ¨èèŒƒå›´ / è®¾å®š å½“å‰å€¼ å½±å“ / è¯´æ˜ å­¦ä¹ ç‡ (LoRA, actor.optim.lr) â­â­â­â­â­ 1e-5 ï½ 5e-5 5e-5 ç›´æ¥å½±å“æ”¶æ•›ä¸æœ€ç»ˆæ€§èƒ½ï¼Œå»ºè®®ä»å°åˆ°å¤§ç½‘æ ¼/äºŒåˆ†æœã€‚ å“åº”æ•°é‡ (rollout.n) â­â­â­â­ 5 ï½ 16 5 / 16 æ›´å¤šæ ·æœ¬å¯æå‡ GRPO ä¿¡å·è´¨é‡ï¼Œä½†æ˜¾è‘—å¢ç®—åŠ›ã€‚ KL ç³»æ•° (kl_loss_coef) â­â­â­â­ 1e-4 ï½ 1e-2 1e-3 çº¦æŸä¸å‚è€ƒæ¨¡å‹åç¦»åº¦ï¼›è¿‡å¤§æŠ‘åˆ¶æ¢ç´¢ã€è¿‡å°æ˜“æ¼‚ç§»ã€‚ æ‰¹æ¬¡å¤§å° â­â­â­â­ train 64/128/256/512ï¼›mini 32/64/128ï¼›micro 4/8/16 128 / 64 / 16 æ›´å¤§æ‰¹æ¬¡æ›´ç¨³ï¼ˆå—æ˜¾å­˜é™åˆ¶ï¼‰ã€‚ é‡‡æ ·æ¸©åº¦ (temperature) â­â­ 0.7 / 1.0 / 1.2 1.0 å¤šæ ·æ€§ä¸æ¢ç´¢ï¼›é«˜æ¸©åº¦åˆ©æ¢ç´¢ä½†æ˜“å™ªå£°ã€‚ Top-p (top_p) â­â­ 0.7 / 0.9 / 1.0 1.0 æ§åˆ¶å°¾éƒ¨æˆªæ–­ï¼›ä¸æ¸©åº¦é…åˆè°ƒåº¦æ¢ç´¢å¼ºåº¦ã€‚ å®éªŒè®¡åˆ’ è°ƒæ•´verlæ¡†æ¶çš„GRPOçš„è¶…å‚æ•°ï¼Œå¾®è°ƒQwen3-0.6Bï¼Œæ¢ç´¢æœ€å¤§éªŒè¯é›†è¡¨ç°çš„è¶…å‚æ•°ã€‚ ä½¿ç”¨Qwen32Bæ¨¡å‹ï¼Œè’¸é¦ç­”æ¡ˆï¼ŒLoraå¾®è°ƒQwen3-0.6Bï¼Œå¹¶ä¸ä¸Šé¢æ–¹å¼å¯¹æ¯”ã€‚ å®éªŒè¿‡ç¨‹ åˆå§‹å®éªŒ é¦–å…ˆåœ¨ä½¿ç”¨LLMç”Ÿäº§äº†ä¸€ç»„åˆå§‹å‚æ•°ï¼Œå¹¶è·‘é€šã€‚"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-10-18T13:17:15+08:00"><meta property="article:modified_time" content="2025-10-18T13:17:15+08:00"><meta property="article:tag" content="è®°å½•"><meta property="og:image" content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Verl æ¡†æ¶ä¸‹ GRPO è°ƒå‚ï¼šGSM8K å®éªŒè®°å½•ï¼ˆQwen3-0.6Bï¼‰"><meta name=twitter:description content="èƒŒæ™¯
åˆå§‹Qwen3-0.6Båœ¨GSM8Kçš„å‡†ç¡®ç‡ä¸åˆ°20%ï¼Œé—®é¢˜ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š

æœªèƒ½æŒ‰ç…§promptçš„ç­”æ¡ˆæ ¼å¼ è¾“å‡º ç­”æ¡ˆ
æœªèƒ½è®¡ç®—å‡ºæ­£ç¡®ç­”æ¡ˆ

ç»æµ‹è¯•ä¸»è¦å‘ç°å‡†ç¡®ç‡ä½çš„åŸå› æ˜¯ä¸»è¦æ˜¯å‰è€…å¯¼è‡´ï¼Œå°‘éƒ¨åˆ†æ˜¯åè€…ã€‚æœ¬è´¨ä¸Šå°±æ˜¯å°æ¨¡å‹çš„æŒ‡ä»¤è·Ÿéšå’Œæ¨ç†èƒ½åŠ›çš„ä¸è¶³ã€‚
å¦‚ä»ŠLLMå·²ç»æœ‰å¤§é‡ä¸åŒçš„å¾®è°ƒæ–¹å¼ï¼Œå¦‚å¼ºåŒ–å­¦ä¹ å¾®è°ƒã€SFTç­‰æ–¹å‘ï¼Œæœ¬å®éªŒä¸ºæ¢ç´¢GRPOåœ¨LLMå¾®è°ƒçš„æ•ˆæœä¸Šé™ä¸ä¼˜åŠ¿ã€‚
ç›®æ ‡

é€šè¿‡ GRPO å¾®è°ƒ Qwen3-0.6Bï¼Œå¯»æ‰¾åœ¨ éªŒè¯é›†ä¸Šçš„æœ€ä¼˜è¶…å‚æ•°ç»„åˆã€‚
ä½¿ç”¨ Qwen32B ç”Ÿæˆç­”æ¡ˆè¿›è¡Œè’¸é¦ + LoRA å¾®è°ƒ Qwen3-0.6Bï¼Œå¹¶ä¸ GRPO æ–¹æ¡ˆå¯¹æ¯”ã€‚

æ–¹æ³•æ¦‚è§ˆ

æ¡†æ¶ï¼šVerl
åŸºåº§æ¨¡å‹ï¼šQwen3-0.6B
ä¼˜åŒ–ï¼šGRPO
å¯¹æ¯”ï¼šQwen32B è’¸é¦ â†’ LoRA on Qwen3-0.6B

è°ƒèŠ‚çš„è¶…å‚æ•°

  
      
          è¶…å‚æ•°
          é‡è¦åº¦
          æ¨èèŒƒå›´ / è®¾å®š
          å½“å‰å€¼
          å½±å“ / è¯´æ˜
      
  
  
      
          å­¦ä¹ ç‡ (LoRA, actor.optim.lr)
          â­â­â­â­â­
          1e-5 ï½ 5e-5
          5e-5
          ç›´æ¥å½±å“æ”¶æ•›ä¸æœ€ç»ˆæ€§èƒ½ï¼Œå»ºè®®ä»å°åˆ°å¤§ç½‘æ ¼/äºŒåˆ†æœã€‚
      
      
          å“åº”æ•°é‡ (rollout.n)
          â­â­â­â­
          5 ï½ 16
          5 / 16
          æ›´å¤šæ ·æœ¬å¯æå‡ GRPO ä¿¡å·è´¨é‡ï¼Œä½†æ˜¾è‘—å¢ç®—åŠ›ã€‚
      
      
          KL ç³»æ•° (kl_loss_coef)
          â­â­â­â­
          1e-4 ï½ 1e-2
          1e-3
          çº¦æŸä¸å‚è€ƒæ¨¡å‹åç¦»åº¦ï¼›è¿‡å¤§æŠ‘åˆ¶æ¢ç´¢ã€è¿‡å°æ˜“æ¼‚ç§»ã€‚
      
      
          æ‰¹æ¬¡å¤§å°
          â­â­â­â­
          train 64/128/256/512ï¼›mini 32/64/128ï¼›micro 4/8/16
          128 / 64 / 16
          æ›´å¤§æ‰¹æ¬¡æ›´ç¨³ï¼ˆå—æ˜¾å­˜é™åˆ¶ï¼‰ã€‚
      
      
          é‡‡æ ·æ¸©åº¦ (temperature)
          â­â­
          0.7 / 1.0 / 1.2
          1.0
          å¤šæ ·æ€§ä¸æ¢ç´¢ï¼›é«˜æ¸©åº¦åˆ©æ¢ç´¢ä½†æ˜“å™ªå£°ã€‚
      
      
          Top-p (top_p)
          â­â­
          0.7 / 0.9 / 1.0
          1.0
          æ§åˆ¶å°¾éƒ¨æˆªæ–­ï¼›ä¸æ¸©åº¦é…åˆè°ƒåº¦æ¢ç´¢å¼ºåº¦ã€‚
      
  

å®éªŒè®¡åˆ’

è°ƒæ•´verlæ¡†æ¶çš„GRPOçš„è¶…å‚æ•°ï¼Œå¾®è°ƒQwen3-0.6Bï¼Œæ¢ç´¢æœ€å¤§éªŒè¯é›†è¡¨ç°çš„è¶…å‚æ•°ã€‚
ä½¿ç”¨Qwen32Bæ¨¡å‹ï¼Œè’¸é¦ç­”æ¡ˆï¼ŒLoraå¾®è°ƒQwen3-0.6Bï¼Œå¹¶ä¸ä¸Šé¢æ–¹å¼å¯¹æ¯”ã€‚

å®éªŒè¿‡ç¨‹
åˆå§‹å®éªŒ
é¦–å…ˆåœ¨ä½¿ç”¨LLMç”Ÿäº§äº†ä¸€ç»„åˆå§‹å‚æ•°ï¼Œå¹¶è·‘é€šã€‚"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Verl æ¡†æ¶ä¸‹ GRPO è°ƒå‚ï¼šGSM8K å®éªŒè®°å½•ï¼ˆQwen3-0.6Bï¼‰","item":"http://localhost:1313/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Verl æ¡†æ¶ä¸‹ GRPO è°ƒå‚ï¼šGSM8K å®éªŒè®°å½•ï¼ˆQwen3-0.6Bï¼‰","name":"Verl æ¡†æ¶ä¸‹ GRPO è°ƒå‚ï¼šGSM8K å®éªŒè®°å½•ï¼ˆQwen3-0.6Bï¼‰","description":"èƒŒæ™¯ åˆå§‹Qwen3-0.6Båœ¨GSM8Kçš„å‡†ç¡®ç‡ä¸åˆ°20%ï¼Œé—®é¢˜ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š\næœªèƒ½æŒ‰ç…§promptçš„ç­”æ¡ˆæ ¼å¼ è¾“å‡º ç­”æ¡ˆ æœªèƒ½è®¡ç®—å‡ºæ­£ç¡®ç­”æ¡ˆ ç»æµ‹è¯•ä¸»è¦å‘ç°å‡†ç¡®ç‡ä½çš„åŸå› æ˜¯ä¸»è¦æ˜¯å‰è€…å¯¼è‡´ï¼Œå°‘éƒ¨åˆ†æ˜¯åè€…ã€‚æœ¬è´¨ä¸Šå°±æ˜¯å°æ¨¡å‹çš„æŒ‡ä»¤è·Ÿéšå’Œæ¨ç†èƒ½åŠ›çš„ä¸è¶³ã€‚\nå¦‚ä»ŠLLMå·²ç»æœ‰å¤§é‡ä¸åŒçš„å¾®è°ƒæ–¹å¼ï¼Œå¦‚å¼ºåŒ–å­¦ä¹ å¾®è°ƒã€SFTç­‰æ–¹å‘ï¼Œæœ¬å®éªŒä¸ºæ¢ç´¢GRPOåœ¨LLMå¾®è°ƒçš„æ•ˆæœä¸Šé™ä¸ä¼˜åŠ¿ã€‚\nç›®æ ‡ é€šè¿‡ GRPO å¾®è°ƒ Qwen3-0.6Bï¼Œå¯»æ‰¾åœ¨ éªŒè¯é›†ä¸Šçš„æœ€ä¼˜è¶…å‚æ•°ç»„åˆã€‚ ä½¿ç”¨ Qwen32B ç”Ÿæˆç­”æ¡ˆè¿›è¡Œè’¸é¦ + LoRA å¾®è°ƒ Qwen3-0.6Bï¼Œå¹¶ä¸ GRPO æ–¹æ¡ˆå¯¹æ¯”ã€‚ æ–¹æ³•æ¦‚è§ˆ æ¡†æ¶ï¼šVerl åŸºåº§æ¨¡å‹ï¼šQwen3-0.6B ä¼˜åŒ–ï¼šGRPO å¯¹æ¯”ï¼šQwen32B è’¸é¦ â†’ LoRA on Qwen3-0.6B è°ƒèŠ‚çš„è¶…å‚æ•° è¶…å‚æ•° é‡è¦åº¦ æ¨èèŒƒå›´ / è®¾å®š å½“å‰å€¼ å½±å“ / è¯´æ˜ å­¦ä¹ ç‡ (LoRA, actor.optim.lr) â­â­â­â­â­ 1e-5 ï½ 5e-5 5e-5 ç›´æ¥å½±å“æ”¶æ•›ä¸æœ€ç»ˆæ€§èƒ½ï¼Œå»ºè®®ä»å°åˆ°å¤§ç½‘æ ¼/äºŒåˆ†æœã€‚ å“åº”æ•°é‡ (rollout.n) â­â­â­â­ 5 ï½ 16 5 / 16 æ›´å¤šæ ·æœ¬å¯æå‡ GRPO ä¿¡å·è´¨é‡ï¼Œä½†æ˜¾è‘—å¢ç®—åŠ›ã€‚ KL ç³»æ•° (kl_loss_coef) â­â­â­â­ 1e-4 ï½ 1e-2 1e-3 çº¦æŸä¸å‚è€ƒæ¨¡å‹åç¦»åº¦ï¼›è¿‡å¤§æŠ‘åˆ¶æ¢ç´¢ã€è¿‡å°æ˜“æ¼‚ç§»ã€‚ æ‰¹æ¬¡å¤§å° â­â­â­â­ train 64/128/256/512ï¼›mini 32/64/128ï¼›micro 4/8/16 128 / 64 / 16 æ›´å¤§æ‰¹æ¬¡æ›´ç¨³ï¼ˆå—æ˜¾å­˜é™åˆ¶ï¼‰ã€‚ é‡‡æ ·æ¸©åº¦ (temperature) â­â­ 0.7 / 1.0 / 1.2 1.0 å¤šæ ·æ€§ä¸æ¢ç´¢ï¼›é«˜æ¸©åº¦åˆ©æ¢ç´¢ä½†æ˜“å™ªå£°ã€‚ Top-p (top_p) â­â­ 0.7 / 0.9 / 1.0 1.0 æ§åˆ¶å°¾éƒ¨æˆªæ–­ï¼›ä¸æ¸©åº¦é…åˆè°ƒåº¦æ¢ç´¢å¼ºåº¦ã€‚ å®éªŒè®¡åˆ’ è°ƒæ•´verlæ¡†æ¶çš„GRPOçš„è¶…å‚æ•°ï¼Œå¾®è°ƒQwen3-0.6Bï¼Œæ¢ç´¢æœ€å¤§éªŒè¯é›†è¡¨ç°çš„è¶…å‚æ•°ã€‚ ä½¿ç”¨Qwen32Bæ¨¡å‹ï¼Œè’¸é¦ç­”æ¡ˆï¼ŒLoraå¾®è°ƒQwen3-0.6Bï¼Œå¹¶ä¸ä¸Šé¢æ–¹å¼å¯¹æ¯”ã€‚ å®éªŒè¿‡ç¨‹ åˆå§‹å®éªŒ é¦–å…ˆåœ¨ä½¿ç”¨LLMç”Ÿäº§äº†ä¸€ç»„åˆå§‹å‚æ•°ï¼Œå¹¶è·‘é€šã€‚\n","keywords":["è®°å½•"],"articleBody":"èƒŒæ™¯ åˆå§‹Qwen3-0.6Båœ¨GSM8Kçš„å‡†ç¡®ç‡ä¸åˆ°20%ï¼Œé—®é¢˜ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š\næœªèƒ½æŒ‰ç…§promptçš„ç­”æ¡ˆæ ¼å¼ è¾“å‡º ç­”æ¡ˆ æœªèƒ½è®¡ç®—å‡ºæ­£ç¡®ç­”æ¡ˆ ç»æµ‹è¯•ä¸»è¦å‘ç°å‡†ç¡®ç‡ä½çš„åŸå› æ˜¯ä¸»è¦æ˜¯å‰è€…å¯¼è‡´ï¼Œå°‘éƒ¨åˆ†æ˜¯åè€…ã€‚æœ¬è´¨ä¸Šå°±æ˜¯å°æ¨¡å‹çš„æŒ‡ä»¤è·Ÿéšå’Œæ¨ç†èƒ½åŠ›çš„ä¸è¶³ã€‚\nå¦‚ä»ŠLLMå·²ç»æœ‰å¤§é‡ä¸åŒçš„å¾®è°ƒæ–¹å¼ï¼Œå¦‚å¼ºåŒ–å­¦ä¹ å¾®è°ƒã€SFTç­‰æ–¹å‘ï¼Œæœ¬å®éªŒä¸ºæ¢ç´¢GRPOåœ¨LLMå¾®è°ƒçš„æ•ˆæœä¸Šé™ä¸ä¼˜åŠ¿ã€‚\nç›®æ ‡ é€šè¿‡ GRPO å¾®è°ƒ Qwen3-0.6Bï¼Œå¯»æ‰¾åœ¨ éªŒè¯é›†ä¸Šçš„æœ€ä¼˜è¶…å‚æ•°ç»„åˆã€‚ ä½¿ç”¨ Qwen32B ç”Ÿæˆç­”æ¡ˆè¿›è¡Œè’¸é¦ + LoRA å¾®è°ƒ Qwen3-0.6Bï¼Œå¹¶ä¸ GRPO æ–¹æ¡ˆå¯¹æ¯”ã€‚ æ–¹æ³•æ¦‚è§ˆ æ¡†æ¶ï¼šVerl åŸºåº§æ¨¡å‹ï¼šQwen3-0.6B ä¼˜åŒ–ï¼šGRPO å¯¹æ¯”ï¼šQwen32B è’¸é¦ â†’ LoRA on Qwen3-0.6B è°ƒèŠ‚çš„è¶…å‚æ•° è¶…å‚æ•° é‡è¦åº¦ æ¨èèŒƒå›´ / è®¾å®š å½“å‰å€¼ å½±å“ / è¯´æ˜ å­¦ä¹ ç‡ (LoRA, actor.optim.lr) â­â­â­â­â­ 1e-5 ï½ 5e-5 5e-5 ç›´æ¥å½±å“æ”¶æ•›ä¸æœ€ç»ˆæ€§èƒ½ï¼Œå»ºè®®ä»å°åˆ°å¤§ç½‘æ ¼/äºŒåˆ†æœã€‚ å“åº”æ•°é‡ (rollout.n) â­â­â­â­ 5 ï½ 16 5 / 16 æ›´å¤šæ ·æœ¬å¯æå‡ GRPO ä¿¡å·è´¨é‡ï¼Œä½†æ˜¾è‘—å¢ç®—åŠ›ã€‚ KL ç³»æ•° (kl_loss_coef) â­â­â­â­ 1e-4 ï½ 1e-2 1e-3 çº¦æŸä¸å‚è€ƒæ¨¡å‹åç¦»åº¦ï¼›è¿‡å¤§æŠ‘åˆ¶æ¢ç´¢ã€è¿‡å°æ˜“æ¼‚ç§»ã€‚ æ‰¹æ¬¡å¤§å° â­â­â­â­ train 64/128/256/512ï¼›mini 32/64/128ï¼›micro 4/8/16 128 / 64 / 16 æ›´å¤§æ‰¹æ¬¡æ›´ç¨³ï¼ˆå—æ˜¾å­˜é™åˆ¶ï¼‰ã€‚ é‡‡æ ·æ¸©åº¦ (temperature) â­â­ 0.7 / 1.0 / 1.2 1.0 å¤šæ ·æ€§ä¸æ¢ç´¢ï¼›é«˜æ¸©åº¦åˆ©æ¢ç´¢ä½†æ˜“å™ªå£°ã€‚ Top-p (top_p) â­â­ 0.7 / 0.9 / 1.0 1.0 æ§åˆ¶å°¾éƒ¨æˆªæ–­ï¼›ä¸æ¸©åº¦é…åˆè°ƒåº¦æ¢ç´¢å¼ºåº¦ã€‚ å®éªŒè®¡åˆ’ è°ƒæ•´verlæ¡†æ¶çš„GRPOçš„è¶…å‚æ•°ï¼Œå¾®è°ƒQwen3-0.6Bï¼Œæ¢ç´¢æœ€å¤§éªŒè¯é›†è¡¨ç°çš„è¶…å‚æ•°ã€‚ ä½¿ç”¨Qwen32Bæ¨¡å‹ï¼Œè’¸é¦ç­”æ¡ˆï¼ŒLoraå¾®è°ƒQwen3-0.6Bï¼Œå¹¶ä¸ä¸Šé¢æ–¹å¼å¯¹æ¯”ã€‚ å®éªŒè¿‡ç¨‹ åˆå§‹å®éªŒ é¦–å…ˆåœ¨ä½¿ç”¨LLMç”Ÿäº§äº†ä¸€ç»„åˆå§‹å‚æ•°ï¼Œå¹¶è·‘é€šã€‚\n#!/bin/bash set -x cd /mnt/data/home/liuqingshan/wanghai673/RL-test/verl ls MODEL_PATH=/mnt/data/home/liuqingshan/wanghai673/RL-test/models/Qwen3-0.6B python3 -m verl.trainer.main_ppo \\ algorithm.adv_estimator=grpo \\ algorithm.kl_ctrl.kl_coef=0.001 \\ data.train_files=\"${HOME}/data/gsm8k/train.parquet\" \\ data.val_files=\"${HOME}/data/gsm8k/test.parquet\" \\ data.train_batch_size=128 \\ data.max_prompt_length=512 \\ data.max_response_length=512 \\ data.filter_overlong_prompts=True \\ data.truncation=error \\ data.shuffle=False \\ actor_rollout_ref.model.path=\"${MODEL_PATH}\" \\ actor_rollout_ref.model.enable_gradient_checkpointing=True \\ actor_rollout_ref.model.use_remove_padding=False \\ actor_rollout_ref.model.lora_rank=32 \\ actor_rollout_ref.model.lora_alpha=32 \\ actor_rollout_ref.model.target_modules=all-linear \\ actor_rollout_ref.actor.optim.lr=5e-7 \\ actor_rollout_ref.actor.ppo_mini_batch_size=64 \\ actor_rollout_ref.actor.ppo_micro_batch_size_per_gpu=8 \\ actor_rollout_ref.actor.use_kl_loss=True \\ actor_rollout_ref.actor.kl_loss_coef=0.001 \\ actor_rollout_ref.actor.kl_loss_type=low_var_kl \\ actor_rollout_ref.actor.grad_clip=1.0 \\ actor_rollout_ref.actor.entropy_coeff=0.0 \\ actor_rollout_ref.actor.fsdp_config.param_offload=True \\ actor_rollout_ref.actor.fsdp_config.optimizer_offload=True \\ actor_rollout_ref.rollout.name=vllm \\ actor_rollout_ref.rollout.tensor_model_parallel_size=2 \\ actor_rollout_ref.rollout.gpu_memory_utilization=0.6 \\ actor_rollout_ref.rollout.n=5 \\ actor_rollout_ref.rollout.temperature=1.0 \\ actor_rollout_ref.rollout.top_p=1.0 \\ actor_rollout_ref.rollout.top_k=-1 \\ actor_rollout_ref.rollout.enable_chunked_prefill=True \\ actor_rollout_ref.rollout.load_format=safetensors \\ actor_rollout_ref.ref.fsdp_config.param_offload=True \\ trainer.critic_warmup=0 \\ trainer.logger='[\"console\",\"wandb\"]' \\ trainer.project_name=qwen3_grpo_gsm8k \\ trainer.experiment_name=exp_1 \\ trainer.n_gpus_per_node=2 \\ trainer.nnodes=1 \\ trainer.total_epochs=10 \\ trainer.total_training_steps=500 \\ trainer.save_freq=50 \\ trainer.test_freq=10 \\ trainer.default_local_dir=./checkpoints/${trainer.project_name}/${trainer.experiment_name}\\ actor_rollout_ref.rollout.log_prob_micro_batch_size_per_gpu=8 \\ actor_rollout_ref.ref.log_prob_micro_batch_size_per_gpu=8 \\ 2\u003e\u00261 | tee training.log total_training_stepsæ€»å…±è®­ç»ƒåˆ°äº†500stepsï¼Œæ—¶é—´é•¿è¾¾10hï¼Œä¸ºäº†æ–¹ä¾¿åç»­å®éªŒå¿«é€Ÿè¿›è¡Œï¼Œæˆ‘åšå‡ºäº†å¦‚ä¸‹ä¿®æ”¹ï¼š\ntotal_training_steps = 100 gpu_memory_utilization = 0.8 test_freq= 5 ppo_micro_batch_size_per_gpu = 16 è¿™æ ·ä¿®æ”¹åæ¯ä¸ªå®éªŒå¤§æ¦‚èƒ½åœ¨3hå·¦å³åšå®Œï¼Œå¤§å¤§åŠ å¿«äº†å¯¹æ¯”çš„é€Ÿåº¦ã€‚\nå¯¹æ¯”ä¸åŒLRä¸‹çš„å®éªŒç»“æœ ä¸Šé¢æ˜¯ä¸åŒlråœ¨éªŒè¯é›†ä¸Šçš„è¡¨ç°ï¼Œè§‚å¯Ÿå‘ç°5e6 ~ 5e5ä¹‹é—´è®­ç»ƒæ¯”è¾ƒç¨³å®šï¼Œå¹¶ä¸”æ•ˆæœç¨³å®šä¸Šå‡ï¼Œä½†å¤§äº5e5çš„å­¦ä¹ ç‡å‡ºç°äº†æ˜æ˜¾çš„æŠ–åŠ¨ï¼Œ éšåæŒ‘é€‰5e5ä¸ºä¹‹åå®éªŒçš„å­¦ä¹ ç‡ã€‚\nè®­ç»ƒé›†ä¸Šå¥–åŠ±æ¨¡å‹æ‰“åˆ†ä¸éªŒè¯é›†åˆä¸Šå‘ˆç°ä¸€è‡´çš„è¶‹åŠ¿ï¼Œå¹¶ä¸”ä¸å­˜åœ¨å¤ªå¤§çš„è¿‡æ‹Ÿåˆé—®é¢˜ï¼Œè€ƒè™‘åˆ°ä¸»è¦åŸå› æ˜¯å› ä¸ºepochè·‘äº†ä¸åˆ°2ä¸ªï¼Œå…¶å®è®­ç»ƒé›†çš„å¾—åˆ†å’ŒéªŒè¯é›†åˆåŸºæœ¬éƒ½æ˜¯åœ¨åšæ–°é¢˜ç›®ã€‚\nå­¦ä¹ ç‡è¶Šé«˜æ¨¡å‹å°±è¶Šåç¦»æœ€åˆæ¨¡å‹ã€‚\nå¯¹æ¯”ä¸åŒrollout-nä¸‹çš„å®éªŒç»“æœ å®éªŒå‘ç°rolloutæ•°é‡å¢åŠ ï¼Œèƒ½ç•¥å¾®æé«˜æ•ˆæœï¼Œ5-\u003e8-\u003e12è®­ç»ƒæ›´åŠ ç¨³å®šã€‚\nrolloutnè¶Šå¤§æ¨¡å‹åç¦»å‚è€ƒæ¨¡å‹çš„ç¨‹åº¦è¶Šå°ï¼Œä½†æ•ˆæœä¸ä¼šæ›´å·®ï¼Œè¯´æ˜éšç€rolloutnä¸Šå‡è®­ç»ƒæ›´åŠ ç¨³å®šï¼Œæ–¹å·®æ›´å°ã€‚\nå¯¹æ¯”ä¸åŒklç³»æ•°ä¸‹çš„å®éªŒç»“æœ klç³»æ•°è¶Šåˆ°kl_lossæ˜¾ç„¶è¶Šå°ï¼Œä½†æ ¹æ®ä¸Šé¢è®¾ç½®klè¿‡å¤§ä¼šé™åˆ¶æ¨¡å‹æ›´æ–°ï¼Œè¿‡å°ä¼šä½¿å¾—æ¨¡å‹åç¦»å‚è€ƒæ¨¡å‹å¤ªå¤§ï¼Œklå–0.001è¾ƒä¸ºé€‚ä¸­ã€‚\nå¯¹æ¯”ä¸åŒbatchsizeä¸‹çš„å®éªŒç»“æœ åºå· train_batch_size ppo_mini_batch_size ppo_micro_batch_size_per_gpu 1 128 32 4 2 256 64 8 3 512 128 16 åœ¨micro_batchä¸æ˜¯å¤ªå°çš„æƒ…å†µä¸‹ï¼Œè®­ç»ƒæ•ˆæœå·®ä¸å¤šã€‚micro_batchè¶³å¤Ÿå¤§ï¼Œæ€»stepsçš„ä¸€æ ·çš„æƒ…å†µä¸‹ï¼Œæ¨¡å‹æ•ˆæœä¸»è¦å—æ¢¯åº¦ç´¯ç§¯æ­¥æ•°ï¼Œæ¢¯åº¦ç´¯ç§¯æ­¥æ•°è¶Šå°ï¼Œé‚£ä¹ˆæ¨¡å‹æ›´æ–°çš„æ¬¡æ•°è¶Šå¤šï¼Œè®­ç»ƒé€Ÿåº¦å’Œæ•ˆæœä¹Ÿä¼šç›¸åº”å˜å¥½ã€‚\nå¯¹æ¯”ä¸åŒtemperatureå’Œtop-pä¸‹çš„å®éªŒç»“æœ temperatureå’Œtop-pçš„å¢å¤§ï¼Œæ¨¡å‹é‡‡æ ·çš„å†…å®¹æ›´åŠ å¤šæ ·ï¼Œä½¿å¾—æ¨¡å‹çš„é¢„æµ‹æ›´å…·æ³›åŒ–æ€§ï¼Œè€Œtemperatureå’Œtop-på‡å°ï¼Œé‡‡æ ·å†…å®¹å•è°ƒï¼Œæ¨¡å‹ä¸å®¹å­¦åˆ°ä¸åŒæ ·æœ¬çš„ä¼˜ç¼ºç‚¹ï¼Œå¹¶ä¸”å®¹æ˜“è¿‡æ‹Ÿåˆï¼Œåç¦»å‚è€ƒæ¨¡å‹ã€‚\n","wordCount":"268","inLanguage":"en","image":"http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2025-10-18T13:17:15+08:00","dateModified":"2025-10-18T13:17:15+08:00","author":{"@type":"Person","name":"Wanghai673"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/"},"publisher":{"@type":"Organization","name":"Wanghai673 | åšå®¢","logo":{"@type":"ImageObject","url":"http://localhost:1313/images/dog.svg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Wanghai673 | åšå®¢ (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Wanghai673 | åšå®¢</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/tags/ title="ğŸ·ï¸ æ ‡ç­¾"><span>ğŸ·ï¸ æ ‡ç­¾</span></a></li><li><a href=http://localhost:1313/search/ title="ğŸ” æœç´¢ (Alt + /)" accesskey=/><span>ğŸ” æœç´¢</span></a></li><li><a href=http://localhost:1313/about/ title="ğŸ™‹ å…³äº"><span>ğŸ™‹ å…³äº</span></a></li><li><a href=http://localhost:1313/archives/ title="ğŸ“š å½’æ¡£"><span>ğŸ“š å½’æ¡£</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;Â»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Verl æ¡†æ¶ä¸‹ GRPO è°ƒå‚ï¼šGSM8K å®éªŒè®°å½•ï¼ˆQwen3-0.6Bï¼‰</h1><div class=post-meta><span title='2025-10-18 13:17:15 +0800 CST'>2025å¹´10æœˆ18æ—¥</span>&nbsp;|&nbsp;<a href=https://github.com/wanghai673/wanghai673.github.io/tree/main/content/posts/verl%e6%a1%86%e6%9e%b6GPRO%e8%b0%83%e5%8f%82GSM8K/index.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></div></header><div class=post-content><h2 id=èƒŒæ™¯>èƒŒæ™¯<a hidden class=anchor aria-hidden=true href=#èƒŒæ™¯>#</a></h2><p>åˆå§‹Qwen3-0.6Båœ¨GSM8Kçš„å‡†ç¡®ç‡ä¸åˆ°20%ï¼Œé—®é¢˜ä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p><ul><li>æœªèƒ½æŒ‰ç…§promptçš„ç­”æ¡ˆæ ¼å¼ è¾“å‡º ç­”æ¡ˆ</li><li>æœªèƒ½è®¡ç®—å‡ºæ­£ç¡®ç­”æ¡ˆ</li></ul><p>ç»æµ‹è¯•ä¸»è¦å‘ç°å‡†ç¡®ç‡ä½çš„åŸå› æ˜¯ä¸»è¦æ˜¯å‰è€…å¯¼è‡´ï¼Œå°‘éƒ¨åˆ†æ˜¯åè€…ã€‚æœ¬è´¨ä¸Šå°±æ˜¯å°æ¨¡å‹çš„æŒ‡ä»¤è·Ÿéšå’Œæ¨ç†èƒ½åŠ›çš„ä¸è¶³ã€‚</p><p>å¦‚ä»ŠLLMå·²ç»æœ‰å¤§é‡ä¸åŒçš„å¾®è°ƒæ–¹å¼ï¼Œå¦‚å¼ºåŒ–å­¦ä¹ å¾®è°ƒã€SFTç­‰æ–¹å‘ï¼Œæœ¬å®éªŒä¸º<strong>æ¢ç´¢GRPOåœ¨LLMå¾®è°ƒçš„æ•ˆæœä¸Šé™ä¸ä¼˜åŠ¿ã€‚</strong></p><h2 id=ç›®æ ‡>ç›®æ ‡<a hidden class=anchor aria-hidden=true href=#ç›®æ ‡>#</a></h2><ul><li>é€šè¿‡ <strong>GRPO</strong> å¾®è°ƒ Qwen3-0.6Bï¼Œå¯»æ‰¾åœ¨ <strong>éªŒè¯é›†</strong>ä¸Šçš„æœ€ä¼˜è¶…å‚æ•°ç»„åˆã€‚</li><li>ä½¿ç”¨ <strong>Qwen32B ç”Ÿæˆç­”æ¡ˆè¿›è¡Œè’¸é¦</strong> + LoRA å¾®è°ƒ Qwen3-0.6Bï¼Œå¹¶ä¸ GRPO æ–¹æ¡ˆå¯¹æ¯”ã€‚</li></ul><h2 id=æ–¹æ³•æ¦‚è§ˆ>æ–¹æ³•æ¦‚è§ˆ<a hidden class=anchor aria-hidden=true href=#æ–¹æ³•æ¦‚è§ˆ>#</a></h2><ul><li><strong>æ¡†æ¶</strong>ï¼šVerl</li><li><strong>åŸºåº§æ¨¡å‹</strong>ï¼šQwen3-0.6B</li><li><strong>ä¼˜åŒ–</strong>ï¼šGRPO</li><li><strong>å¯¹æ¯”</strong>ï¼šQwen32B è’¸é¦ â†’ LoRA on Qwen3-0.6B</li></ul><h2 id=è°ƒèŠ‚çš„è¶…å‚æ•°>è°ƒèŠ‚çš„è¶…å‚æ•°<a hidden class=anchor aria-hidden=true href=#è°ƒèŠ‚çš„è¶…å‚æ•°>#</a></h2><table><thead><tr><th>è¶…å‚æ•°</th><th>é‡è¦åº¦</th><th>æ¨èèŒƒå›´ / è®¾å®š</th><th>å½“å‰å€¼</th><th>å½±å“ / è¯´æ˜</th></tr></thead><tbody><tr><td>å­¦ä¹ ç‡ (LoRA, <code>actor.optim.lr</code>)</td><td>â­â­â­â­â­</td><td>1e-5 ï½ 5e-5</td><td><strong>5e-5</strong></td><td>ç›´æ¥å½±å“æ”¶æ•›ä¸æœ€ç»ˆæ€§èƒ½ï¼Œå»ºè®®ä»å°åˆ°å¤§ç½‘æ ¼/äºŒåˆ†æœã€‚</td></tr><tr><td>å“åº”æ•°é‡ (<code>rollout.n</code>)</td><td>â­â­â­â­</td><td>5 ï½ 16</td><td><strong>5 / 16</strong></td><td>æ›´å¤šæ ·æœ¬å¯æå‡ GRPO ä¿¡å·è´¨é‡ï¼Œä½†æ˜¾è‘—å¢ç®—åŠ›ã€‚</td></tr><tr><td>KL ç³»æ•° (<code>kl_loss_coef</code>)</td><td>â­â­â­â­</td><td>1e-4 ï½ 1e-2</td><td><strong>1e-3</strong></td><td>çº¦æŸä¸å‚è€ƒæ¨¡å‹åç¦»åº¦ï¼›è¿‡å¤§æŠ‘åˆ¶æ¢ç´¢ã€è¿‡å°æ˜“æ¼‚ç§»ã€‚</td></tr><tr><td>æ‰¹æ¬¡å¤§å°</td><td>â­â­â­â­</td><td>train 64/128/256/512ï¼›mini 32/64/128ï¼›micro 4/8/16</td><td><strong>128 / 64 / 16</strong></td><td>æ›´å¤§æ‰¹æ¬¡æ›´ç¨³ï¼ˆå—æ˜¾å­˜é™åˆ¶ï¼‰ã€‚</td></tr><tr><td>é‡‡æ ·æ¸©åº¦ (<code>temperature</code>)</td><td>â­â­</td><td>0.7 / 1.0 / 1.2</td><td><strong>1.0</strong></td><td>å¤šæ ·æ€§ä¸æ¢ç´¢ï¼›é«˜æ¸©åº¦åˆ©æ¢ç´¢ä½†æ˜“å™ªå£°ã€‚</td></tr><tr><td>Top-p (<code>top_p</code>)</td><td>â­â­</td><td>0.7 / 0.9 / 1.0</td><td><strong>1.0</strong></td><td>æ§åˆ¶å°¾éƒ¨æˆªæ–­ï¼›ä¸æ¸©åº¦é…åˆè°ƒåº¦æ¢ç´¢å¼ºåº¦ã€‚</td></tr></tbody></table><h2 id=å®éªŒè®¡åˆ’>å®éªŒè®¡åˆ’<a hidden class=anchor aria-hidden=true href=#å®éªŒè®¡åˆ’>#</a></h2><ol><li>è°ƒæ•´verlæ¡†æ¶çš„GRPOçš„è¶…å‚æ•°ï¼Œå¾®è°ƒQwen3-0.6Bï¼Œæ¢ç´¢æœ€å¤§éªŒè¯é›†è¡¨ç°çš„è¶…å‚æ•°ã€‚</li><li>ä½¿ç”¨Qwen32Bæ¨¡å‹ï¼Œè’¸é¦ç­”æ¡ˆï¼ŒLoraå¾®è°ƒQwen3-0.6Bï¼Œå¹¶ä¸ä¸Šé¢æ–¹å¼å¯¹æ¯”ã€‚</li></ol><h2 id=å®éªŒè¿‡ç¨‹>å®éªŒè¿‡ç¨‹<a hidden class=anchor aria-hidden=true href=#å®éªŒè¿‡ç¨‹>#</a></h2><h4 id=åˆå§‹å®éªŒ>åˆå§‹å®éªŒ<a hidden class=anchor aria-hidden=true href=#åˆå§‹å®éªŒ>#</a></h4><p>é¦–å…ˆåœ¨ä½¿ç”¨LLMç”Ÿäº§äº†ä¸€ç»„åˆå§‹å‚æ•°ï¼Œå¹¶è·‘é€šã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash  
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nb>set</span> -x  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=nb>cd</span> /mnt/data/home/liuqingshan/wanghai673/RL-test/verl  
</span></span><span class=line><span class=cl>ls
</span></span><span class=line><span class=cl><span class=nv>MODEL_PATH</span><span class=o>=</span>/mnt/data/home/liuqingshan/wanghai673/RL-test/models/Qwen3-0.6B
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>python3 -m verl.trainer.main_ppo <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  algorithm.adv_estimator<span class=o>=</span>grpo <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  algorithm.kl_ctrl.kl_coef<span class=o>=</span>0.001 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  data.train_files<span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>HOME</span><span class=si>}</span><span class=s2>/data/gsm8k/train.parquet&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  data.val_files<span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>HOME</span><span class=si>}</span><span class=s2>/data/gsm8k/test.parquet&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  data.train_batch_size<span class=o>=</span><span class=m>128</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  data.max_prompt_length<span class=o>=</span><span class=m>512</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  data.max_response_length<span class=o>=</span><span class=m>512</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  data.filter_overlong_prompts<span class=o>=</span>True <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  data.truncation<span class=o>=</span>error <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  data.shuffle<span class=o>=</span>False <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.model.path<span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>MODEL_PATH</span><span class=si>}</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.model.enable_gradient_checkpointing<span class=o>=</span>True <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.model.use_remove_padding<span class=o>=</span>False <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.model.lora_rank<span class=o>=</span><span class=m>32</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.model.lora_alpha<span class=o>=</span><span class=m>32</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.model.target_modules<span class=o>=</span>all-linear <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.actor.optim.lr<span class=o>=</span>5e-7 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.actor.ppo_mini_batch_size<span class=o>=</span><span class=m>64</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.actor.ppo_micro_batch_size_per_gpu<span class=o>=</span><span class=m>8</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.actor.use_kl_loss<span class=o>=</span>True <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.actor.kl_loss_coef<span class=o>=</span>0.001 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.actor.kl_loss_type<span class=o>=</span>low_var_kl <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.actor.grad_clip<span class=o>=</span>1.0 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.actor.entropy_coeff<span class=o>=</span>0.0 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.actor.fsdp_config.param_offload<span class=o>=</span>True <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.actor.fsdp_config.optimizer_offload<span class=o>=</span>True <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.rollout.name<span class=o>=</span>vllm <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.rollout.tensor_model_parallel_size<span class=o>=</span><span class=m>2</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.rollout.gpu_memory_utilization<span class=o>=</span>0.6 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.rollout.n<span class=o>=</span><span class=m>5</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.rollout.temperature<span class=o>=</span>1.0 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.rollout.top_p<span class=o>=</span>1.0 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.rollout.top_k<span class=o>=</span>-1 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.rollout.enable_chunked_prefill<span class=o>=</span>True <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.rollout.load_format<span class=o>=</span>safetensors <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.ref.fsdp_config.param_offload<span class=o>=</span>True <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  trainer.critic_warmup<span class=o>=</span><span class=m>0</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  trainer.logger<span class=o>=</span><span class=s1>&#39;[&#34;console&#34;,&#34;wandb&#34;]&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  trainer.project_name<span class=o>=</span>qwen3_grpo_gsm8k <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  trainer.experiment_name<span class=o>=</span>exp_1 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  trainer.n_gpus_per_node<span class=o>=</span><span class=m>2</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  trainer.nnodes<span class=o>=</span><span class=m>1</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  trainer.total_epochs<span class=o>=</span><span class=m>10</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  trainer.total_training_steps<span class=o>=</span><span class=m>500</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  trainer.save_freq<span class=o>=</span><span class=m>50</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  trainer.test_freq<span class=o>=</span><span class=m>10</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  trainer.default_local_dir<span class=o>=</span>./checkpoints/<span class=si>${</span><span class=nv>trainer</span><span class=p>.project_name</span><span class=si>}</span>/<span class=si>${</span><span class=nv>trainer</span><span class=p>.experiment_name</span><span class=si>}</span><span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.rollout.log_prob_micro_batch_size_per_gpu<span class=o>=</span><span class=m>8</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  actor_rollout_ref.ref.log_prob_micro_batch_size_per_gpu<span class=o>=</span><span class=m>8</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  2&gt;<span class=p>&amp;</span><span class=m>1</span> <span class=p>|</span> tee training.log
</span></span></code></pre></div><p><img alt=W&amp;B_Chart_2025_10_21_16_45_06.png loading=lazy src=/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/W&B_Chart_2025_10_21_16_45_06_1_1.png></p><p>total_training_stepsæ€»å…±è®­ç»ƒåˆ°äº†500stepsï¼Œæ—¶é—´é•¿è¾¾10hï¼Œä¸ºäº†æ–¹ä¾¿åç»­å®éªŒå¿«é€Ÿè¿›è¡Œï¼Œæˆ‘åšå‡ºäº†å¦‚ä¸‹ä¿®æ”¹ï¼š</p><ul><li>total_training_steps = 100</li><li>gpu_memory_utilization = 0.8</li><li>test_freq= 5</li><li>ppo_micro_batch_size_per_gpu = 16</li></ul><p>è¿™æ ·ä¿®æ”¹åæ¯ä¸ªå®éªŒå¤§æ¦‚èƒ½åœ¨3hå·¦å³åšå®Œï¼Œå¤§å¤§åŠ å¿«äº†å¯¹æ¯”çš„é€Ÿåº¦ã€‚</p><hr><h4 id=å¯¹æ¯”ä¸åŒlrä¸‹çš„å®éªŒç»“æœ>å¯¹æ¯”ä¸åŒLRä¸‹çš„å®éªŒç»“æœ<a hidden class=anchor aria-hidden=true href=#å¯¹æ¯”ä¸åŒlrä¸‹çš„å®éªŒç»“æœ>#</a></h4><p><img alt="W&amp;B Chart 2025_10_21 16_51_21" loading=lazy src=/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/W&B_Chart_2025_10_21_16_51_21_1.png></p><p>ä¸Šé¢æ˜¯ä¸åŒlråœ¨éªŒè¯é›†ä¸Šçš„è¡¨ç°ï¼Œè§‚å¯Ÿå‘ç°5e6 ~ 5e5ä¹‹é—´è®­ç»ƒæ¯”è¾ƒç¨³å®šï¼Œå¹¶ä¸”æ•ˆæœç¨³å®šä¸Šå‡ï¼Œä½†å¤§äº5e5çš„å­¦ä¹ ç‡å‡ºç°äº†æ˜æ˜¾çš„æŠ–åŠ¨ï¼Œ
éšåæŒ‘é€‰5e5ä¸ºä¹‹åå®éªŒçš„å­¦ä¹ ç‡ã€‚</p><p><img alt="W&amp;B Chart 2025_10_21 16_54_55" loading=lazy src=/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/W&B_Chart_2025_10_21_16_54_55_1.png></p><p>è®­ç»ƒé›†ä¸Šå¥–åŠ±æ¨¡å‹æ‰“åˆ†ä¸éªŒè¯é›†åˆä¸Šå‘ˆç°ä¸€è‡´çš„è¶‹åŠ¿ï¼Œå¹¶ä¸”ä¸å­˜åœ¨å¤ªå¤§çš„è¿‡æ‹Ÿåˆé—®é¢˜ï¼Œè€ƒè™‘åˆ°ä¸»è¦åŸå› æ˜¯å› ä¸ºepochè·‘äº†ä¸åˆ°2ä¸ªï¼Œå…¶å®è®­ç»ƒé›†çš„å¾—åˆ†å’ŒéªŒè¯é›†åˆåŸºæœ¬éƒ½æ˜¯åœ¨åšæ–°é¢˜ç›®ã€‚</p><p><img alt="W&amp;B Chart 2025_10_21 16_58_16" loading=lazy src=/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/W&B_Chart_2025_10_21_16_58_16_1.png></p><p>å­¦ä¹ ç‡è¶Šé«˜æ¨¡å‹å°±è¶Šåç¦»æœ€åˆæ¨¡å‹ã€‚</p><hr><h4 id=å¯¹æ¯”ä¸åŒrollout-nä¸‹çš„å®éªŒç»“æœ>å¯¹æ¯”ä¸åŒrollout-nä¸‹çš„å®éªŒç»“æœ<a hidden class=anchor aria-hidden=true href=#å¯¹æ¯”ä¸åŒrollout-nä¸‹çš„å®éªŒç»“æœ>#</a></h4><p><img alt="W&amp;B Chart 2025_10_21 17_01_54" loading=lazy src=/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/W&B_Chart_2025_10_21_17_01_54_1.png></p><p><img alt=image-20251021170334915 loading=lazy src=/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/image-20251021170334915_1_1.png></p><p>å®éªŒå‘ç°rolloutæ•°é‡å¢åŠ ï¼Œèƒ½ç•¥å¾®æé«˜æ•ˆæœï¼Œ5->8->12è®­ç»ƒæ›´åŠ ç¨³å®šã€‚</p><p><img alt="W&amp;B Chart 2025_10_21 17_07_20" loading=lazy src=/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/W&B_Chart_2025_10_21_17_07_20_1.png></p><p>rolloutnè¶Šå¤§æ¨¡å‹åç¦»å‚è€ƒæ¨¡å‹çš„ç¨‹åº¦è¶Šå°ï¼Œä½†æ•ˆæœä¸ä¼šæ›´å·®ï¼Œè¯´æ˜éšç€rolloutnä¸Šå‡è®­ç»ƒæ›´åŠ ç¨³å®šï¼Œæ–¹å·®æ›´å°ã€‚</p><hr><h4 id=å¯¹æ¯”ä¸åŒklç³»æ•°ä¸‹çš„å®éªŒç»“æœ>å¯¹æ¯”ä¸åŒklç³»æ•°ä¸‹çš„å®éªŒç»“æœ<a hidden class=anchor aria-hidden=true href=#å¯¹æ¯”ä¸åŒklç³»æ•°ä¸‹çš„å®éªŒç»“æœ>#</a></h4><p><img alt="W&amp;B Chart 2025_10_21 17_11_05" loading=lazy src=/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/W&B_Chart_2025_10_21_17_11_05_1.png></p><p><img alt="W&amp;B Chart 2025_10_21 17_12_25" loading=lazy src=/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/W&B_Chart_2025_10_21_17_12_25_1.png></p><p>klç³»æ•°è¶Šåˆ°kl_lossæ˜¾ç„¶è¶Šå°ï¼Œä½†æ ¹æ®ä¸Šé¢è®¾ç½®klè¿‡å¤§ä¼šé™åˆ¶æ¨¡å‹æ›´æ–°ï¼Œè¿‡å°ä¼šä½¿å¾—æ¨¡å‹åç¦»å‚è€ƒæ¨¡å‹å¤ªå¤§ï¼Œklå–0.001è¾ƒä¸ºé€‚ä¸­ã€‚</p><hr><h4 id=å¯¹æ¯”ä¸åŒbatchsizeä¸‹çš„å®éªŒç»“æœ>å¯¹æ¯”ä¸åŒbatchsizeä¸‹çš„å®éªŒç»“æœ<a hidden class=anchor aria-hidden=true href=#å¯¹æ¯”ä¸åŒbatchsizeä¸‹çš„å®éªŒç»“æœ>#</a></h4><table><thead><tr><th>åºå·</th><th>train_batch_size</th><th>ppo_mini_batch_size</th><th>ppo_micro_batch_size_per_gpu</th></tr></thead><tbody><tr><td>1</td><td>128</td><td>32</td><td>4</td></tr><tr><td>2</td><td>256</td><td>64</td><td>8</td></tr><tr><td>3</td><td>512</td><td>128</td><td>16</td></tr></tbody></table><p><img alt="W&amp;B Chart 2025_10_21 17_17_41" loading=lazy src=/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/W&B_Chart_2025_10_21_17_17_41_1.png></p><p><img alt="W&amp;B Chart 2025_10_21 17_18_23" loading=lazy src=/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/W&B_Chart_2025_10_21_17_18_23_1.png></p><p>åœ¨micro_batchä¸æ˜¯å¤ªå°çš„æƒ…å†µä¸‹ï¼Œè®­ç»ƒæ•ˆæœå·®ä¸å¤šã€‚micro_batchè¶³å¤Ÿå¤§ï¼Œæ€»stepsçš„ä¸€æ ·çš„æƒ…å†µä¸‹ï¼Œæ¨¡å‹æ•ˆæœä¸»è¦å—æ¢¯åº¦ç´¯ç§¯æ­¥æ•°ï¼Œæ¢¯åº¦ç´¯ç§¯æ­¥æ•°è¶Šå°ï¼Œé‚£ä¹ˆæ¨¡å‹æ›´æ–°çš„æ¬¡æ•°è¶Šå¤šï¼Œè®­ç»ƒé€Ÿåº¦å’Œæ•ˆæœä¹Ÿä¼šç›¸åº”å˜å¥½ã€‚</p><hr><h4 id=å¯¹æ¯”ä¸åŒtemperatureå’Œtop-pä¸‹çš„å®éªŒç»“æœ>å¯¹æ¯”ä¸åŒtemperatureå’Œtop-pä¸‹çš„å®éªŒç»“æœ<a hidden class=anchor aria-hidden=true href=#å¯¹æ¯”ä¸åŒtemperatureå’Œtop-pä¸‹çš„å®éªŒç»“æœ>#</a></h4><p><img alt="W&amp;B Chart 2025_10_22 12_37_16" loading=lazy src=/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/W&B_Chart_2025_10_22_12_37_16.png></p><p><img alt="W&amp;B Chart 2025_10_22 12_40_56" loading=lazy src=/posts/verl%E6%A1%86%E6%9E%B6gpro%E8%B0%83%E5%8F%82gsm8k/W&B_Chart_2025_10_22_12_40_56.png></p><p>temperatureå’Œtop-pçš„å¢å¤§ï¼Œæ¨¡å‹é‡‡æ ·çš„å†…å®¹æ›´åŠ å¤šæ ·ï¼Œä½¿å¾—æ¨¡å‹çš„é¢„æµ‹æ›´å…·æ³›åŒ–æ€§ï¼Œè€Œtemperatureå’Œtop-på‡å°ï¼Œé‡‡æ ·å†…å®¹å•è°ƒï¼Œæ¨¡å‹ä¸å®¹å­¦åˆ°ä¸åŒæ ·æœ¬çš„ä¼˜ç¼ºç‚¹ï¼Œå¹¶ä¸”å®¹æ˜“è¿‡æ‹Ÿåˆï¼Œåç¦»å‚è€ƒæ¨¡å‹ã€‚</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/%E8%AE%B0%E5%BD%95/>è®°å½•</a></li></ul><nav class=paginav><a class=next href=http://localhost:1313/posts/10.9_%E8%AE%B0%E5%BD%95/><span class=title>Next Â»</span><br><span>10.9 è®°å½•</span></a></nav></footer><div class=comments-title id=tw-comment-title><p class=x-comments-title>æ¬¢è¿æ¥åˆ°è¯„è®ºåŒº</p><p style=font-size:1rem>æ„Ÿè°¢æ‚¨çš„è€å¿ƒé˜…è¯»ï¼æ¥é€‰ä¸ªè¡¨æƒ…ï¼Œæˆ–è€…ç•™ä¸ªè¯„è®ºå§ï¼</p></div><div id=tw-comment></div><script>const getStoredTheme=()=>localStorage.getItem("pref-theme")==="dark"?"dark":"light",setGiscusTheme=()=>{const e=e=>{const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")};e({setConfig:{theme:getStoredTheme()}})};document.addEventListener("DOMContentLoaded",()=>{const s={src:"https://giscus.app/client.js","data-repo":"wanghai673/wanghai673.github.io","data-repo-id":"R_kgDOPfU1mg","data-category":"Announcements","data-category-id":"DIC_kwDOPfU1ms4CuRXc","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"top","data-theme":getStoredTheme(),"data-lang":"zh-CN","data-loading":"lazy",crossorigin:"anonymous",async:""},e=document.createElement("script");Object.entries(s).forEach(([t,n])=>e.setAttribute(t,n)),document.querySelector("#tw-comment").appendChild(e);const t=document.querySelector("#theme-toggle");t&&t.addEventListener("click",setGiscusTheme);const n=document.querySelector("#theme-toggle-float");n&&n.addEventListener("click",setGiscusTheme)})</script></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>Wanghai673 | åšå®¢</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>